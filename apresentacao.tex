\documentclass{beamer}
% Encodings (to render letters with diacritics and special characters)
\usepackage[utf8]{inputenc}
% Language
\usepackage[portuguese]{babel}

\usetheme{Madrid}
\usecolortheme{default}

\pdfstringdefDisableCommands{
  \def\\{}
  \def\texttt#1{<#1>}
}

\newcommand{\email}[1]{
{\footnotesize \texttt{\href{mailto:#1}{#1}} }
}

\usepackage{listings}
\lstset{
    frame=tb, % draw frame at top and bottom of the code
    numbers=left, % display line numbers on the left
	aboveskip=-1em,
    belowskip=-1.5em
}
\lstset{literate=
  {á}{{\'a}}1 {é}{{\'e}}1 {í}{{\'i}}1 {ó}{{\'o}}1 {ú}{{\'u}}1
  {Á}{{\'A}}1 {É}{{\'E}}1 {Í}{{\'I}}1 {Ó}{{\'O}}1 {Ú}{{\'U}}1
  {à}{{\`a}}1 {è}{{\`e}}1 {ì}{{\`i}}1 {ò}{{\`o}}1 {ù}{{\`u}}1
  {À}{{\`A}}1 {È}{{\'E}}1 {Ì}{{\`I}}1 {Ò}{{\`O}}1 {Ù}{{\`U}}1
  {ä}{{\"a}}1 {ë}{{\"e}}1 {ï}{{\"i}}1 {ö}{{\"o}}1 {ü}{{\"u}}1
  {Ä}{{\"A}}1 {Ë}{{\"E}}1 {Ï}{{\"I}}1 {Ö}{{\"O}}1 {Ü}{{\"U}}1
  {â}{{\^a}}1 {ê}{{\^e}}1 {î}{{\^i}}1 {ô}{{\^o}}1 {û}{{\^u}}1
  {Â}{{\^A}}1 {Ê}{{\^E}}1 {Î}{{\^I}}1 {Ô}{{\^O}}1 {Û}{{\^U}}1
  {Ã}{{\~A}}1 {ã}{{\~a}}1 {Õ}{{\~O}}1 {õ}{{\~o}}1
  {œ}{{\oe}}1 {Œ}{{\OE}}1 {æ}{{\ae}}1 {Æ}{{\AE}}1 {ß}{{\ss}}1
  {ű}{{\H{u}}}1 {Ű}{{\H{U}}}1 {ő}{{\H{o}}}1 {Ő}{{\H{O}}}1
  {ç}{{\c c}}1 {Ç}{{\c C}}1 {ø}{{\o}}1 {å}{{\r a}}1 {Å}{{\r A}}1
  {€}{{\euro}}1 {£}{{\pounds}}1 {«}{{\guillemotleft}}1
  {»}{{\guillemotright}}1 {ñ}{{\~n}}1 {Ñ}{{\~N}}1 {¿}{{?`}}1
}

\usepackage{dirtree}

\usepackage[style=british]{csquotes}

\usepackage{tabularx}
 
%Information to be included in the title page:
\AtBeginDocument{
\title[Tema 5 (Parte 1)]{Empresa de Transporte de Mercadorias (Parte 1)}
\subtitle{Transportes SML}
\author[T5G3]{
\begin{tabular}{r l}
	\email{up201806429@fe.up.pt} & Diogo Miguel Ferreira Rodrigues        \\
	\email{up201806554@fe.up.pt} & Telmo Alexandre Espirito Santo Baptista\\
	\email{up201306340@fe.up.pt} & Luís Paulo da Rocha Miranda
\end{tabular}
}
\institute[FEUP/AEDA]{Faculdade de Engenharia da Universidade do Porto \\ Algoritmos e Estruturas de Dados (AEDA) - Turma 5, grupo 3} 
\date[16/nov/2019]{16 de novembro de 2019}
}

\begin{document}
\frame{\titlepage}

\begin{frame}
\frametitle{Problema: Empresa de Transporte de Mercadorias}
\begin{quote}
Modelar um problema recorrendo ao paradigma da orientação por objetos e usar a linguagem C++ para implementar a solução correspondente.
\end{quote}
\begin{quote}
A empresa Transportes SML é especialista no transporte de mercadorias. A empresa possui um número fixo de camiões de diferentes tipos, específicos para o transporte de determinada mercadoria [...]
\end{quote}
\begin{quote}
Os clientes podem requisitar serviços de transporte de mercadorias, o que pode obrigar ao uso de múltiplos camiões por parte da empresa.
\end{quote}
\begin{quote}
Interessa conhecer os valores mensais que a empresa retira dos seus serviços de transporte, para cada um dos tipos de camião e no geral. Deve ser possível monitorar os clientes da empresa e serviços efetuados.
\end{quote}
\end{frame}

\begin{frame}
\frametitle{Solução}
Os utilizadores da aplicação devem fazer login, e possuem permissões diferentes consoante o seu tipo:
\begin{itemize}
	\item Funcionário (\texttt{Employee})
	\begin{itemize}
		\item Gestor (\texttt{Manager})
		\item Condutor (\texttt{Driver})
	\end{itemize}
	\item Cliente (\texttt{Client})
\end{itemize}

Um só tipo de camiões (\texttt{Truck}), que pode carregar uma carga (\texttt{Cargo}) de um dos tipos, cujo preço de transporte varia:
\begin{itemize}
	\item Normal (\texttt{Normal})
	\item Animal (\texttt{Animal})
	\item Refrigerada (\texttt{Refrigerated})
	\item Perigoso (\texttt{Dangerous})
\end{itemize}

Todos os utilizadores podem ver e editar as suas informações pessoais.
O cliente pode ver e editar os seus serviços ativos, ou requisitar um novo. 
O condutor pode ver e editar os seus serviços ativos, bem como ver a lista de camiões disponíveis e as suas estatísticas mensais.
\end{frame}

\begin{frame}
\frametitle{Solução(cont.)}

O gestor pode fazer tudo isto e ainda ver as listas de clientes e funcionários (completas ou filtradas por um argumento específico), com possibilidade de edição para qualquer um destes, além de poder ver os valores mensais de toda a empresa e outras estatísticas.\\
Quando um cliente requisita um serviço, são atribuídos automaticamente condutores e camiões.
Foram utilizados os algoritmos de ordenação mergesort e pesquisa linear para este efeito.
\end{frame}

\begin{frame}
\frametitle{Diagrama de classes}


- diagrama de classes
- diagrama de classes
\end{frame}

\begin{frame}
\frametitle{Estrutura de ficheiros}
\begin{center}
\begin{minipage}{0.35\textwidth}
	\small
	\dirtree{%
		.1 data.
		.2 clients.
		.3 clients.txt.
		.2 drivers.
		.3 drivers.txt.
		.2 managers.
		.3 managers.txt.
		.2 services.
		.3 services.txt.
	}
\end{minipage}
\begin{minipage}{0.6\textwidth}
\textbf{URL-encoding}\\
Codificar todos os caracteres exceto \texttt{[a-aA-Z0-9\_-.~]} com o seu código ASCII hexadecimal antecedido de \texttt{\%}.
\begin{itemize}
	\item Resolve problema de ler linha completa de ficheiros
	\item Formato portável e independente da codificação do ficheiro
\end{itemize}
\end{minipage}
\end{center}
\end{frame}

\begin{frame}[fragile]
\begin{center}
\begin{tabular}{p{63mm} p{0mm} p{43mm}}
	\texttt{Person} & & \\	
	\lstinputlisting[firstline=6,lastline=7,basicstyle=\tiny]{./codigo/data/services/services.txt} & &
\begin{lstlisting}[basicstyle=\tiny]
Nome
Número de telemóvel
\end{lstlisting} \\
	\texttt{Client} & & \\
	\lstinputlisting[firstline=30,lastline=37,basicstyle=\tiny]{./codigo/data/clients/clients.txt} & &
\begin{lstlisting}[basicstyle=\tiny]
Nome
Número de telemóvel
Username
Password
Rua/porta
Código postal/Localidade
Região/País
NIF
\end{lstlisting} \\
	\texttt{Driver/Manager} & & \\
	\lstinputlisting[firstline=3,lastline=11,basicstyle=\tiny]{./codigo/data/managers/managers.txt} & &
\begin{lstlisting}[basicstyle=\tiny]
Nome
Número de telemóvel
Username
Password
Rua/porta
Código postal/Localidade
Região/País
NIF
Salário base
\end{lstlisting}
\end{tabular}
\end{center}
\end{frame}

\begin{frame}[fragile]
\begin{center}
\begin{tabular}{p{63mm} p{0mm} p{43mm}}
	\texttt{Person} & & \\	
	\lstinputlisting[firstline=1,lastline=25,basicstyle=\tiny]{./codigo/data/services/services.txt} & &
\begin{lstlisting}[basicstyle=\tiny]
ID do próx. serviço a adicionar
Número de serviços

ID do serviço
Username do cliente
  Nome do contacto 1
  Núm. telemóvel do contacto 1
  Nome do contacto 2
  Núm. telemóvel do contacto 2
Tempo de início
Tempo de fim
Morada de início: rua/porta
  Código postal/Localidade
  Região/País
Morada de fim: rua/porta
  Código postal/Localidade
  Região/País
Distância
  Tipo de carga (0 = Normal)
  Peso em quilogramas
  Descrição
  Número de camiões/condutores
    Camião / Condutor
  Custos para empresa
  Receita com serviço
\end{lstlisting}
\end{tabular}
\end{center}
\end{frame}
 
\begin{frame}
\frametitle{Exceções tratadas}
InvalidTimeFormat: chamada quando é introduzido uma hora com o formato errado;\\
InvalidCredentials: chamada quando são introduzidas credenciais erradas (username ou password, durante o login);\\
InvalidTemperatureRange: chamada quando é introduzida uma gama de temperatura não válida;\\
FailedRegex: chamada quando a string introduzida não corresponde a regex;\\
RepeatedId: chamada quando é introduzido um id repetido;\\
%invalidargument: \\
%systemerror: 
\end{frame}

\begin{frame}
\frametitle{Lista de funcionalidades} 
Os clientes podem requisitar serviços, com origem, destino, duração da viagem, ...\\
Mostrar lista de clientes e funcionários; adicionar, editar ou remover clientes e funcionários;\\
Mostrar lista de camiões; adicionar, editar ou remover camiões; \\
Mostrar lista de serviços; adicionar, editar ou remover um serviço;\\
Login para clientes, gestores e condutores;\\
Quando um condutor chega ao destino, tem de ter um contacto que pode, ou não, ser do cliente.\\

\end{frame}

\begin{frame}
\frametitle{Lista de funcionalidades (cont.)} 
Ordenar as diversas listas pelos respetivos argumentos;\\
Filtrar as diversas listas pelos respetivos argumentos;\\
Ver os valores mensais da empresa, tanto totais, como parciais (de um camião, ou de uma categoria de camiões);
\end{frame}

\begin{frame}
\frametitle{Destaque de funcionalidade}
 - falta completar

\end{frame}

\begin{frame}
\frametitle{Dificuldades}
Trabalho de grupo = colaboração + trabalho individual\\
Neste trabalho as classes estavam muito interligadas umas com as outras e com a estrutura da aplicação, pelo que foi dificil compartimentar tarefas e classes/funções
\end{frame}

\begin{frame}
\begin{minipage}[t]{0.33\linewidth}
	\textbf{Diogo Rodrigues}
	{\footnotesize \begin{itemize}
		\item \texttt{utils}: quase tudo, incluindo \texttt{stringregex}, \texttt{mergesort}, \texttt{findif}		
		\item \texttt{Person} e todas as classes derivadas
		\item \texttt{Truck}: reescreveu
		\item \texttt{Cargo}: reescreveu				
		\item I/O ficheiros
		\item \texttt{App}: tabelas, opções das tabelas e mostrar detalhes de entidades
		\item \texttt{Time}, \texttt{Address}, \texttt{Phonenumber}, \texttt{Temperature}, \texttt{VAT}
		\item \texttt{Service} e função de alocação
	\end{itemize} }
\end{minipage}%
\begin{minipage}[t]{0.33\linewidth}
	\textbf{Telmo Baptista}
	{\footnotesize \begin{itemize}
		\item \texttt{utils}: algumas funções
		\item \texttt{App}: input do utilizador; adição, edição e remoção de entidades
		\item \texttt{Cargo}: implementou
		\item \texttt{Person}: alguns métodos
		\item \texttt{Time}: algumas funções
		\item \texttt{Truck}: implementou
	\end{itemize} }
\end{minipage}%
\begin{minipage}[t]{0.33\linewidth}
	\textbf{Luís Miranda}
	{\footnotesize \begin{itemize}
		\item Organização da app
		\item Permissões
		\item Dados
		\item Testes
		\item Apresentação
	\end{itemize} }
\end{minipage}
\end{frame}
\end{document}


